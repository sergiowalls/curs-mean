<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Movie quotes</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/js/materialize.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
<body>
<nav>
    <div class="nav-wrapper teal">
        <label class="brand-logo center">Movie quotes</label>
        <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
        <ul class="right hide-on-med-and-down">
            <li><a onclick="showQuote()"><i class="material-icons left">refresh</i>Show me another quote</a></li>
        </ul>
        <ul id="nav-mobile" class="side-nav">
            <li><a onclick="showQuote()"><i class="material-icons left">refresh</i>Show me another quote</a></li>
        </ul>
    </div>
</nav>

<div class="row" id="card">
    <div class="col s6 offset-s3">
        <div class="card grey darken-1">
            <div class="card-content white-text">
                <p id="quote_text"></p>
                <p style="text-align: right" id="quote_character"></p>
            </div>
            <div class="card-action">
                <label id="quote_movie"></label>
                <label>|</label>
                <label id="quote_year"></label>
            </div>
        </div>
    </div>
</div>

<script language="JavaScript">
    $(document).ready(function () {
        $(".button-collapse").sideNav();
        showQuote();
    });
    function showQuote() {
        $.ajax({
            url: "api/quotes/",
            success: function (data) {
                let quote = data[Math.floor(Math.random() * data.length)];

                $("#quote_text").text("\"" + quote.text + "\"");
                $("#quote_character").text(quote.character);
                $("#quote_movie").text(quote.movie);
                $("#quote_year").text(quote.year);
            }
        });

        Materialize.fadeInImage('#card')
    }
</script>
</body>
</html>